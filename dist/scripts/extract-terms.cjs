"use strict";const s=require("fs"),o=require("path"),i=o.resolve("glossary.md"),n=o.resolve("dict/terminology.json");s.existsSync(i)||(console.error("❌ glossary.md が見つかりません。"),process.exit(1));const u=s.readFileSync(i,"utf8"),f=u.split(/\r?\n/),l={};for(const r of f)if(/^\|[^|]+\|[^|]+\|/.test(r)){const c=r.split("|").map(a=>a.trim()),t=c[1],e=c[2];t&&e&&t!=="英語"&&e!=="日本語"&&(l[t]=e)}s.mkdirSync(o.dirname(n),{recursive:!0});s.writeFileSync(n,JSON.stringify(l,null,2),"utf8");console.log(`✅ 用語集を ${n} に出力しました。`);
